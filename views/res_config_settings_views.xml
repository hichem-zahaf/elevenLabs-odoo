<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <!-- Inherit Settings View -->
    <record id="res_config_settings_view_form_elevenlabs" model="ir.ui.view">
        <field name="name">res.config.settings.view.form.inherit.elevenlabs</field>
        <field name="model">res.config.settings</field>
        <field name="inherit_id" ref="website.res_config_settings_view_form"/>
        <field name="arch" type="xml">
            <xpath expr="//form" position="inside">
                <app data-string="ElevenLabs AI" string="ElevenLabs AI" name="elevenlabs_agent">
                    <block title="General" name="elevenlabs_general_settings">
                        <setting help="Enable the AI shopping assistant powered by ElevenLabs on your website">
                            <field name="elevenlabs_enabled"/>
                        </setting>
                        <setting help="Enter your ElevenLabs Agent ID from the dashboard" invisible="not elevenlabs_enabled">
                            <field name="elevenlabs_agent_id" placeholder="agent_xxxxxxxxxxxxx"/>
                        </setting>
                        <div class="alert alert-info" role="alert" invisible="not elevenlabs_enabled">
                        <i class="fa fa-info-circle"/> To get your Agent ID:
                        <ol class="mb-0 mt-2">
                            <li>Go to <a href="https://elevenlabs.io" target="_blank">ElevenLabs Dashboard</a></li>
                            <li>Navigate to Conversational AI â†’ Agents</li>
                            <li>Select your agent or create a new one</li>
                            <li>Copy the Agent ID from the agent settings</li>
                            <li>Configure the tools in your agent as needed for the functionality</li>
                        </ol>
                    </div>
                    </block>

                    <block title="Theme Settings" name="elevenlabs_theme_settings" invisible="not elevenlabs_enabled">
                        <setting help="Choose the theme type for the widget">
                            <field name="elevenlabs_theme_type"/>
                        </setting>

                        <setting help="Primary color for the widget">
                            <field name="elevenlabs_primary_color" widget="color" placeholder="#667eea"/>
                        </setting>

                        <setting help="Secondary/accent color for the widget">
                            <field name="elevenlabs_secondary_color" widget="color" placeholder="#764ba2"/>
                        </setting>
                    </block>


                    <block title="Trigger Options" name="elevenlabs_trigger_settings" invisible="not elevenlabs_enabled">
                        <setting help="Number of seconds after page load before showing the widget">
                            <field name="elevenlabs_trigger_delay"/>
                        </setting>

                        <setting help="Show widget when user scrolls to this percentage of the page">
                            <field name="elevenlabs_trigger_on_scroll"/>
                        </setting>

                        <setting help="Show widget after user spends this many seconds on the page">
                            <field name="elevenlabs_trigger_on_time"/>
                        </setting>

                        <setting help='Show widget when user shows exit intent (moving mouse to close tab or navigate away).'>
                            <field name="elevenlabs_trigger_on_exit_intent"/>
                        </setting>

                        <setting help='Show widget only for first-time visitors.'>
                            <field name="elevenlabs_show_first_time_visitors_only"/>
                        </setting>
                    </block>

                    <block title="Page Visibility" name="elevenlabs_visibility_settings" invisible="not elevenlabs_enabled">
                        <setting help="Comma-separated list of page types to show widget on (e.g., homepage,product,cart,checkout)">
                            <field name="elevenlabs_pages_to_show" placeholder="e.g., homepage,product,cart,checkout"/>
                        </setting>

                        <setting help="Comma-separated list of page types to hide widget on (e.g., homepage,product,cart,checkout)">
                            <field name="elevenlabs_pages_to_hide" placeholder="e.g., contact,about"/>
                        </setting>
                    </block>

                    <block title="Integration Controls" name="elevenlabs_integration_settings" invisible="not elevenlabs_enabled">
                        <setting help="Enable the showProductCard tool in the agent">
                            <field name="elevenlabs_enable_show_product_card"/>
                        </setting>

                        <setting help="Enable the searchProducts tool in the agent">
                            <field name="elevenlabs_enable_search_products"/>
                        </setting>

                    </block>

                    <block title="Targeting Controls" name="elevenlabs_targeting_settings" invisible="not elevenlabs_enabled">

                        <setting help="Which devices to show the widget on">
                            <field name="elevenlabs_device_filtering"/>
                        </setting>

                        <setting help="Which customer segments to target with the widget">
                            <field name="elevenlabs_customer_segment_targeting"/>
                        </setting>

                        <setting help="Hide widget for public/non-logged-in users. Only logged-in users will see the widget.">
                            <field name="elevenlabs_exclude_public_users"/>
                        </setting>
                    </block>

                    <block title="Session Controls" name="elevenlabs_session_settings" invisible="not elevenlabs_enabled">
                        <setting help="Maximum number of messages allowed per session (0 for unlimited)">
                            <field name="elevenlabs_max_messages_per_session"/>
                        </setting>

                        <setting help="How long to retain conversation history in hours">
                            <field name="elevenlabs_conversation_history_retention"/>
                        </setting>

                        <setting help="Automatically end conversations after period of inactivity">
                            <field name="elevenlabs_auto_end_inactive_conversations"/>
                        </setting>

                        <setting help="Save user information from conversations">
                            <field name="elevenlabs_save_user_info"/>
                        </setting>

                        <setting help="Log all conversations for analytics">
                            <field name="elevenlabs_enable_conversation_logging"/>
                        </setting>

                        <setting help="Daily usage limit for the widget (0 for unlimited)">
                            <field name="elevenlabs_daily_usage_limit"/>
                        </setting>

                        <setting help="Link to the performance metrics dashboard">
                            <field name="elevenlabs_performance_metrics_dashboard" placeholder="https://your-analytics.com"/>
                        </setting>
                    </block>

                    <block title="Product Integration" name="elevenlabs_product_settings" invisible="not elevenlabs_enabled">
                        <setting help="Comma-separated list of product category IDs to include">
                            <field name="elevenlabs_product_categories_include" placeholder="e.g., 1,2,3"/>
                        </setting>

                        <setting help="Comma-separated list of product category IDs to exclude">
                            <field name="elevenlabs_product_categories_exclude" placeholder="e.g., 4,5,6"/>
                        </setting>

                        <setting help="Comma-separated list of product IDs to prioritize in recommendations">
                            <field name="elevenlabs_featured_products_priority" placeholder="e.g., 10,15,20"/>
                        </setting>

                        <setting help="How to handle out-of-stock items in recommendations">
                            <field name="elevenlabs_out_of_stock_handling"/>
                        </setting>
                    </block>
                </app>
            </xpath>
        </field>
    </record>
</odoo>